/* =====================  BRAND TOKENS  ===================== */
:root{
  /* Фон/поверхности */
  --bg-body: #0f1012;
  --surface: #1a1d21;
  --surface-2: #23262b;
  --surface-3: #2c3036;

  /* Границы */
  --surface-border: #3a3e45;
  --border: #262a2f;
  --border-dark: #262a2f;
  --border-light: #3a3e45;

  /* Текст */
  --text: #eef1f3;
  --text-muted: #8c9199;
  --text-on-surface: #eef1f3;

  /* Брендовые акценты */
  --primary: #c7ff1a;
  --primary-700: #b2ea15;
  --primary-800: #99cf12;
  --primary-ink: #0e0f11;

  --accent: #9b51ff;
  --accent-700: #8940ff;
  --accent-800: #6f2df9;

  --success: #4CAF50;
  --warning: #FFC107;
  --error: #F44336;
  --info: #2196F3;

  --link: #61d1ff;

  /* Радиусы/тени/фокус */
  --radius: 12px;
  --radius-sm: 8px;
  --shadow-1: 0 8px 24px rgba(0,0,0,.45);
  --shadow-2: 0 4px 12px rgba(0,0,0,.3);
  --shadow-3: 0 2px 6px rgba(0,0,0,.25);
  --focus: 0 0 0 3px rgba(155,81,255,.35);

  /* Header variables */
  --header-h: 64px;
  
  /* Дополнительные переменные для согласованности */
  --gap: 16px;
  --transition: all 0.3s ease;
}

@media (max-width: 640px) {
  :root { 
    --header-h: 56px;
    --gap: 12px;
  }
}

/* =====================  БАЗА  ===================== */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg-body);
  color:var(--text);
  font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}
h1,h2,h3,h4,h5,h6{color:var(--text);margin:0 0 .6rem}
h1{font-size:clamp(22px,3vw,28px)}
h2{font-size:clamp(18px,2.4vw,22px)}
p{margin:.4rem 0 .8rem}
a{color:var(--link);text-decoration:none}
a:hover{text-decoration:underline; color: #8bd5ff;}
.row{display:flex;gap:var(--gap);align-items:center;flex-wrap:wrap}
.muted{color:var(--text-muted)}
.hidden{display:none !important}

/* Утилиты для отступов */
.mb-1 { margin-bottom: 8px; }
.mb-2 { margin-bottom: 16px; }
.mb-3 { margin-bottom: 24px; }
.mt-1 { margin-top: 8px; }
.mt-2 { margin-top: 16px; }
.mt-3 { margin-top: 24px; }
.p-1 { padding: 8px; }
.p-2 { padding: 16px; }
.p-3 { padding: 24px; }

/* =====================  КАРТОЧКИ  ===================== */
.card{
  background:var(--surface);
  color:var(--text-on-surface);
  border:1px solid var(--surface-border);
  border-radius:var(--radius);
  box-shadow:var(--shadow-2);
  transition: var(--transition);
}
.card:hover {
  box-shadow: var(--shadow-1);
  transform: translateY(-2px);
}
.card h1,.card h2,.card h3,.card h4,.card h5,.card h6{color:var(--text)}

/* =====================  КНОПКИ  ===================== */
.btn,.button{
  display:inline-flex;align-items:center;justify-content:center;gap:8px;
  padding:10px 16px;border-radius:var(--radius);
  border:1px solid transparent;cursor:pointer;
  background:var(--primary);color:var(--primary-ink);font-weight:700;
  transition: var(--transition);
  box-shadow:var(--shadow-2);
  font-family: inherit;
  font-size: 14px;
}
.btn:hover{background:var(--primary-700); transform: translateY(-1px);}
.btn:active{background:var(--primary-800);transform:translateY(1px)}
.btn:focus-visible{outline:none;box-shadow:var(--focus)}
.btn-secondary{
  background:transparent;color:var(--primary);border-color:var(--primary);
}
.btn-secondary:hover{background:rgba(199,255,26,.12)}
.btn-accent{background:var(--accent);color:#fff;border-color:var(--accent)}
.btn-accent:hover{background:var(--accent-700); transform: translateY(-1px);}
.btn-accent:active{background:var(--accent-800)}
.btn-ghost{background:transparent;border-color:var(--border-light);color:var(--text)}
.btn-ghost:hover{border-color:var(--primary);background:rgba(199,255,26,.08)}
.btn-danger{background:var(--error);color:#fff;border-color:var(--error)}
.btn-danger:hover{background:#e33939; transform: translateY(-1px);}
.btn:disabled{opacity:.55;cursor:not-allowed; transform: none !important;}
.btn-sm{padding:6px 10px;border-radius:10px; font-size: 12px;}
.btn-lg{padding:12px 18px; font-size: 16px;}

/* =====================  ФОРМЫ  ===================== */
input,select,textarea{
  width:100%;padding:10px 12px;border:1px solid var(--surface-border);
  border-radius:var(--radius-sm);background:var(--surface-2);color:var(--text);
  font-family: inherit;
  transition: var(--transition);
}
input::placeholder,select::placeholder,textarea::placeholder{color:var(--text-muted)}
input:focus,select:focus,textarea:focus{
  outline:none;
  border-color:var(--accent);
  box-shadow:var(--focus);
  background: var(--surface-3);
}

label {
  display: block;
  margin-bottom: 6px;
  color: var(--text);
  font-weight: 600;
}

.form-group {
  margin-bottom: 16px;
}

/* =====================  БАДЖИ/ТЕГИ  ===================== */
.badge{
  display:inline-block;padding:4px 10px;border-radius:999px;
  border:1px solid rgba(155,81,255,.45);background:rgba(155,81,255,.15);color:#c9b3ff;
  font-size:.82rem;font-weight:600;
  transition: var(--transition);
}
.badge:hover {
  background:rgba(155,81,255,.25);
  transform: translateY(-1px);
}

.tag{
  display:inline-flex;gap:6px;align-items:center;padding:6px 10px;border-radius:999px;
  background:var(--surface-2);color:var(--text);border:1px solid var(--surface-border);
  transition: var(--transition);
}
.tag:hover {
  background:var(--surface-3);
  border-color: var(--accent);
}

/* =====================  ХЕДЕР/ФУТЕР  ===================== */
.site-header{
  position:sticky;top:0;z-index:20;background:var(--bg-body);border-bottom:1px solid var(--border);
  height:var(--header-h);
  display:flex;align-items:center;
  backdrop-filter: blur(10px);
}
.site-header .container{display:flex;align-items:center;justify-content:space-between;gap:12px}
.site-header .brand{display:flex;align-items:center;gap:10px;padding:0}
.site-header .brand img{height:28px;width:auto;display:block}
.site-header .brand a{color:#fff;text-decoration:none}
.site-header nav a{color:var(--text-muted);margin-right:14px; transition: var(--transition);}
.site-header nav a:hover{color:#fff}

.site-footer{
  border-top:1px solid var(--border);
  padding: 24px 0;
  color:var(--text-muted);
  background: var(--bg-body);
}
.site-footer .container {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 16px;
}

/* =====================  HERO  ===================== */
.hero {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 28px;
  align-items: center;
  padding: 60px 0;
  text-align: left;
}

.hero .logo {
  width: 72px;
  height: auto;
  display: block;
  margin: 0 auto 8px;
}

.hero .lead {
  color: var(--text-muted);
  font-size: 18px;
  line-height: 1.6;
}

.cta {
  display: grid;
  grid-template-columns: 1fr;
  gap: 14px;
  margin: 20px 0;
}

.btn-large {
  padding: 18px 20px;
  font-size: 18px;
  font-weight: 700;
  text-align: center;
}

.features {
  display: flex;
  gap: 10px;
  margin-top: 16px;
  flex-wrap: wrap;
}

.feature-badge {
  background: var(--surface-2);
  border: 1px solid var(--surface-border);
  border-radius: 12px;
  padding: 8px 12px;
  font-size: 0.9em;
  color: var(--text);
}

.preview-card {
  background: var(--surface);
  border: 1px solid var(--surface-border);
  border-radius: 16px;
  padding: 20px;
  color: var(--text);
  box-shadow: var(--shadow-1);
}

/* Адаптивность для hero */
@media (max-width: 768px) {
  .hero {
    grid-template-columns: 1fr;
    text-align: center;
    gap: 20px;
    padding: 40px 0;
  }
  
  .features {
    justify-content: center;
  }
}

/* =====================  STEPPER (для deal)  ===================== */
.steps{display:flex;gap:8px;flex-wrap:wrap;margin:0;padding:0;list-style:none}
.step{
  padding:8px 12px;border:1px solid var(--surface-border);border-radius:10px;
  background:var(--surface-2);color:var(--text-muted);user-select:none;
  transition: var(--transition);
}
.step[data-active="true"]{background:var(--primary);border-color:var(--primary);color:var(--primary-ink)}
.step[data-done="true"]{border-color:var(--accent);color:var(--accent); background: rgba(155,81,255,.1);}
.step[data-disabled="true"]{opacity:.5}

/* Блокировка будущих этапов (на карточках) */
.locked{position:relative;opacity:.6;pointer-events:none}
.locked::after{
  content:"Завершите предыдущий этап";position:absolute;inset:0;display:flex;align-items:center;justify-content:center;
  background:rgba(26,29,33,.85);color:var(--text);font-weight:700;border-radius:var(--radius);
  backdrop-filter: blur(4px);
}

/* =====================  ДОПОЛНИТЕЛЬНЫЕ СТИЛИ  ===================== */

/* Контейнер */
.container {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px;
}

/* Секции */
.section {
  padding: 40px 0;
}

.section-title {
  font-size: 28px;
  margin-bottom: 30px;
  text-align: center;
  color: var(--text);
}

/* Сетка */
.grid {
  display: grid;
  gap: var(--gap);
}

.grid-2 {
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
}

.grid-3 {
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
}

.grid-4 {
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
}

/* Уведомления */
.notification {
  padding: 12px 16px;
  border-radius: var(--radius-sm);
  margin-bottom: 16px;
  border-left: 4px solid transparent;
}

.notification.success {
  background: rgba(76, 175, 80, 0.1);
  border-color: var(--success);
  color: var(--success);
}

.notification.error {
  background: rgba(244, 67, 54, 0.1);
  border-color: var(--error);
  color: var(--error);
}

.notification.warning {
  background: rgba(255, 193, 7, 0.1);
  border-color: var(--warning);
  color: var(--warning);
}

.notification.info {
  background: rgba(33, 150, 243, 0.1);
  border-color: var(--info);
  color: var(--info);
}

/* Таблицы */
.table {
  width: 100%;
  border-collapse: collapse;
  background: var(--surface);
  border-radius: var(--radius);
  overflow: hidden;
  box-shadow: var(--shadow-2);
}

.table th,
.table td {
  padding: 12px 16px;
  text-align: left;
  border-bottom: 1px solid var(--surface-border);
}

.table th {
  background: var(--surface-2);
  color: var(--text);
  font-weight: 600;
}

.table tr:hover {
  background: var(--surface-3);
}

/* Аватар */
.avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: var(--accent);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-weight: bold;
}

.avatar-sm {
  width: 32px;
  height: 32px;
  font-size: 14px;
}

.avatar-lg {
  width: 56px;
  height: 56px;
  font-size: 20px;
}

/* Progress bar */
.progress {
  width: 100%;
  height: 8px;
  background: var(--surface-border);
  border-radius: 4px;
  overflow: hidden;
}

.progress-bar {
  height: 100%;
  background: var(--primary);
  border-radius: 4px;
  transition: width 0.3s ease;
}

/* Модальные окна */
.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(15, 16, 18, 0.8);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  backdrop-filter: blur(5px);
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s ease;
}

.modal.active {
  opacity: 1;
  visibility: visible;
}

.modal-content {
  background: var(--surface);
  border-radius: var(--radius);
  padding: 24px;
  width: 90%;
  max-width: 500px;
  box-shadow: var(--shadow-1);
  transform: translateY(20px);
  transition: transform 0.3s ease;
}

.modal.active .modal-content {
  transform: translateY(0);
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.modal-close {
  background: none;
  border: none;
  font-size: 24px;
  color: var(--text-muted);
  cursor: pointer;
  padding: 0;
  width: 30px;
  height: 30px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.modal-close:hover {
  color: var(--text);
}

/* Анимации */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideIn {
  from { transform: translateY(20px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.05); }
  100% { transform: scale(1); }
}

.fade-in {
  animation: fadeIn 0.5s ease;
}

.slide-in {
  animation: slideIn 0.5s ease;
}

.pulse {
  animation: pulse 2s infinite;
}

/* Адаптивность */
@media (max-width: 768px) {
  .container {
    padding: 0 16px;
  }
  
  .section {
    padding: 30px 0;
  }
  
  .section-title {
    font-size: 24px;
  }
  
  .hero {
    padding: 30px 0;
  }
  
  .table {
    font-size: 14px;
  }
  
  .table th,
  .table td {
    padding: 8px 12px;
  }
}

@media (max-width: 480px) {
  :root {
    --radius: 8px;
    --radius-sm: 6px;
  }
  
  .btn {
    padding: 8px 12px;
    font-size: 13px;
  }
  
  .card {
    border-radius: 8px;
  }
}